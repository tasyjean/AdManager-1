@(data: TemplateData, listData:UserListPage)

@import views.html.ui_component._
@import views.html.backendView.main
@import helper._
@import scala._
@import be.objectify.deadbolt.core.utils.TemplateUtils._
@import be.objectify.deadbolt.java.views.html._

@main("Laporan Iklan"){
		
		@* Tambahkan java script dan css *@
		<script type="text/javascript" language="javascript" src="@routes.Assets.at("js/jquery-ui-1.10.3.custom.min.js")"></script>
		<link href="@routes.Assets.at("css/jquery-ui-1.10.3.custom.min.css")" rel="stylesheet">
		<script type="text/javascript" language="javascript" src="@routes.Assets.at("js/dataTables.min.js")"></script>
		<link href="@routes.Assets.at("css/table.css")" rel="stylesheet">
		
		<link href="@routes.Assets.at("multiselect/css/multi-select.css")" rel="stylesheet">
		
	
		@dashboard_content("Laporan","Laporan Performansi Pengiklan","laporan_user"){
		<div class="content-padding">
		<h4>Laporan Performansi Pengiklan</h4>
			<p>Menampilkan jumlah iklan, impresi, klik dan total dana yang sudah dikeluarkan untuk beriklan untuk masing-masing pengiklan</p>
			<div style="border:1px solid #ccc;width:100%;height:2px;margin:0 auto;margin-top:12px;"></div>
			 <div id="table">
				<table cellpadding="0" cellspacing="0" border="0" class="display" id="table_report">
					<thead>
						<tr>
							<th>No</th>
							<th>Nama Pengguna</th>
							<th>Total Transaksi Iklan</th>
							<th>Total Dana Iklan </th>
							<th>Jumlah Campaign</th>
							<th>Jumlah Banner</th>
							<th>Jumlah Impresi</th>
							<th>Jumlah Klik</th>
						</tr>
					</thead>
					<tbody>
					@for((bannerList, index)<-reportData.getBannerList.zipWithIndex) {
					<tr>
						<td>@(index+1)</td>
						<td>@bannerList.getBanner.getCampaign.getCampaignName</td>
						<td>@bannerList.getBanner.getName</td>
						<td>@bannerList.getImpresion_count_angka</td>
						<td>@bannerList.getClick_count_angka</td>
						<td>@bannerList.getDailyAverageImpression_string</td>
						<td>@bannerList.getDailyAverageClick_string</td>						
						<td>@bannerList.getCTR</td>
					</tr>
					}
					</tbody>
				</table>
				<div style="height:50px"></div>
			</div>
		</div> @* End Content padding *@
		
	  }
	
		<script text="text/javascript">
		$(document).ready(function() {

			var userLink="@controllers.backend.routes.ReportController.indexWithForm(0)";
		    $("#user").change(function() {
		            $("#filterpengguna").prop("href",userLink+$(this).val());
		    });
		    $("#user").click(function() {
		            $("#filterpengguna").prop("href",userLink.replace("0",$(this).val()));
		    });	 

		    $('#table_report').dataTable({
		    	"bPaginate" : true,
		    	"bLengthChange":false,
		        "oLanguage": {
		            "sLengthMenu": "Display _MENU_ records per page",
		            "sZeroRecords": "Maaf Data tidak ditemukan",
		            "sInfo": "Menampilkan _END_ buah data",
		            "sInfoEmpty": "Menampilkan 0 sampai 0 dari 0 buah data",
		            "sInfoFiltered": "<br>Di filter dari total _MAX_ buah data",
		            "sPrevious": "Sebelumnya",
		            "sNext": "Selanjutnya",
		            "sSearch": "Filter  :"
		        }
		    });			
	        $('#chart').highcharts({
	            chart: {
	                type: 'bar'
	            },
	            title: {
	                text: '@reportData.getDiagramData.getText'
	            },
	            subtitle: {
	                text: '@reportData.getDiagramData.getSubtext'
	            },
	            xAxis: {
	                categories: [
	                    @for(kategori<-reportData.getDiagramData.getCategories){
	                    	'@kategori',
	                    }     
	                ]
	            },
	            yAxis: {
	                min: 0,
	                title: {
	                    text: 'Jumlah'
	                }
	            },
	            tooltip: {
	                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
	                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
	                    '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
	                footerFormat: '</table>',
	                shared: true,
	                useHTML: true
	            },
	            plotOptions: {
	                column: {
	                    pointPadding: 0.2,
	                    borderWidth: 0
	                }
	            },
	            series: [{
	                name: 'Impresi',
	                data: [
								@for(impresi<-reportData.getDiagramData.getImpresi){
									  @impresi,
								 }
	                       ]
	    
	            }, {
	                name: 'Klik',
	                data: [
	                      	 @for(klik<-reportData.getDiagramData.getClick){
	                    	  @klik,
	                       	}	                       
	                       ]
	            }]
	        });

	        $( "#from" ).datepicker({
	            defaultDate: "+1w",
	            changeMonth: true,
	            numberOfMonths: 2,
	            onClose: function( selectedDate ) {
	              $( "#to" ).datepicker( "option", "minDate", selectedDate );
	            }
	          });
	          $( "#to" ).datepicker({
	            defaultDate: "+1w",
	            changeMonth: true,
	            numberOfMonths: 2,
	            onClose: function( selectedDate ) {
	              $( "#from" ).datepicker( "option", "maxDate", selectedDate );
	            }
	          });
	        
			
		});
		
		</script>


} {
  
  @* Untuk bagian Menu *@
  
  @menu_dashboard("report")

} {
  
  @* Untuk bagian menu profile *@
  @menu_profile(data)

}
